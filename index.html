<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Apresentação sobre Monorepo com NX e Angular</title>

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/night.css" />
    <link rel="stylesheet" href="assets/css/custom-styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <div>
            <img
              src="assets/imgs/Angular_gradient.png"
              alt="angular logo"
              style="height: 180px; margin: 0 auto 4rem auto"
            />
            <img
              src="assets/imgs/nx-logo.png"
              alt="angular logo"
              style="height: 150px; margin: 0 auto 4rem auto"
            />
          </div>

          <div>
            <h3>NX Monorepo com Angular</h3>
            <p>
              <small> Flavio Milani </small>
              <small> Desenvolvedor Web </small>
            </p>
          </div>
        </section>

        <section>
          <h3>Meu Perfil</h3>
          <div class="left-content">
            <ul>
              <li>Resido na capital de São Paulo</li>
              <li>Casado e 1 filha de 7 anos</li>
              <li>Mentorando de Angular Pro 3.0</li>
              <li>Pós-Graduação em FullStack Java / Angular – Vincit EAD</li>
              <li>Analista de Engenharia de TI no Itaú-Unibanco</li>
              <li>
                Palestrante voluntário nos eventos de TDC Florianópolis e São
                Paulo
              </li>
              <li>
                10 anos de experiência em desenvolvimento web nas empresas:
                Sonda IT, HP, IBM, CI&T
              </li>
            </ul>
          </div>
          <div class="right-content">
            <img
              src="assets/imgs/retrato.jpg"
              alt="perfil"
              class="img-radius"
            />
          </div>
        </section>
        <section>
          <section>
            <h3>O que é Nx?</h3>
            <p class="text-justify box-content">
              Nx é um poderoso sistema de construção de código aberto que
              fornece ferramentas e técnicas para melhorar a produtividade do
              desenvolvedor, otimizar o desempenho do CI e manter a qualidade do
              código.
            </p>
            <a href="#/2/1" class="navigate-down">
              <i class="fa-solid fa-arrow-down"></i>
            </a>
          </section>
          <section>
            <h3>O que é Monorepo?</h3>
            <p class="text-justify box-content">
              Monorepo é um único repositório que contém vários projetos
              distintos, com relacionamentos bem definidos.
            </p>
            <img src="assets/imgs/monorepo2.png" alt="monorepo" />
          </section>
        </section>
        <section>
          <h4>Tipos de arquitetura</h4>
          <img src="assets/imgs/arquitetura.png" alt="arquitetura" />
        </section>
        <section>
          <h4>Como o Nx funciona?</h4>
          <p class="font-size-20">
            O Nx é construído de forma modular para permitir que você use apenas
            os recursos necessários.
          </p>
          <img
          class="img-template"
            src="assets/imgs/nx-architecture.svg"
            alt="nx"
          /><br />
          <a class="font-size-rem" href="https://nx.dev/getting-started/why-nx#how-does-nx-work" target="_blank">https://nx.dev/getting-started/why-nx#how-does-nx-work</a>
        </section>
        <section>
          <h4>Plugins - Tecnologias incluídas no projeto</h4>
          <p class="display-flex-center">
            <img
              class="size-img"
              src="assets/imgs/Angular_gradient.png"
              alt="Angular"
            />
            <img class="size-img" src="assets/imgs/nx-logo.png" alt="Nx" />
            <img class="size-img" src="assets/imgs/cypress.jpg" alt="Cypress" />
          </p>
          <p class="display-flex-center">
            <img class="size-img" src="assets/imgs/jest.png" alt="Jest" />
            <img
              class="size-img"
              src="assets/imgs/tailwind.jpg"
              alt="Tailiwind"
            />
            <img class="size-img" src="assets/imgs/daisyui.png" alt="DaisyUI" />
          </p>
        </section>
        <section>
          <h4 data-id="code-title">Como criar novo projeto com Nx com comando seguinte:</h4>
          <pre><code class="font-size-rem" data-trim data-noescape>
            ~❯ npx create-nx-workspace@latest angular-monorepo --preset=angular-monorepo            
            
            NX   Let's create a new workspace [https://nx.dev/getting-started/intro]
            
            ✔ Application name · angular-store
            ✔ Which bundler would you like to use? · esbuild
            ✔ Default stylesheet format · scss
            ✔ Do you want to enable Server-Side Rendering (SSR) and Static Site Generation (SSG/Prerendering)? · No
            ✔ Test runner to use for end to end (E2E) tests · cypress
            ✔ Which CI provider would you like to use? · github
          </code></pre>
        <a class="font-size-rem" href="https://nx.dev/getting-started/tutorials/angular-monorepo-tutorial#creating-a-new-angular-monorepo" target="_blank">https://nx.dev/getting-started/tutorials/angular-monorepo-tutorial#creating-a-new-angular-monorepo</a>
        </section>
        <section>
        <section>
          <h4 data-id="code-title">Estrutura do projeto</h4>
          <pre><code class="font-size-rem-1-4" data-trim data-line-numbers="|4-9|11-15|19-23|24-25">
            <script type="text/template">
            └─ angular-monorepo-nx
              ├─ ...
              ├─ apps
              │  ├─ angular-monorepo-nx
              │  │  ├─ src
              │  │  │  ├─ app
              │  │  │  │  ├─ app.component.ts
              │  │  │  │  ├─ app.config.ts
              │  │  │  │  └─ app.routes.ts
              │  │  │  └─ ...
              │  │  ├─ eslint.config.js
              │  │  ├─ jest.config.ts
              │  │  ├─ project.json
              │  │  ├─ tailwind.config.js
              │  │  ├─ tsconfig.app.json
              │  │  └─ ...
              │  └─ angular-monorepo-nx-e2e
              │     └─ ...
              ├─ libs
              │  ├─ admin
              │  ├─ home              
              │  ├─ layouts
              │  └─ share
              ├─ nx.json
              ├─ tsconfig.base.json
              └─ package.json
            </script>
          </code></pre>
        </section>
      </section>
        <section>
          <section>
            <h4>Extensão Nx Console no VS Code</h4>
            <img
              src="assets/imgs/nx-console.png"
              alt="nx console"
              class="r-stretch"
            />
          </section>
          <section>
            <h4>Demonstração de Extensão Nx Console no VS Code</h4>
            <img
              src="assets/imgs/nx-console-graph.png"
              alt="nx console"
              class="r-stretch"
            />
          </section>
        </section>
        <section>
          <h4>Nx Graph</h4>
          <p class="font-size-20">
            Para rodar comando npx nx graph para visualizar desenho de
            dependências (libs)
          </p>
          <img src="assets/imgs/graph.png" alt="nx graph" class="r-stretch" />
        </section>
        <section>
          <h4>Nx show project</h4>
          <p class="font-size-20">
            Para rodar comando npx nx show project home para executar tarefas
            (run tasks)
          </p>
          <img
            src="assets/imgs/nx-show-project.png"
            alt="graph"
            class="r-stretch"
          />
        </section>
        <section>
          <section>
            <h4>Gerar libs</h4>
            <img src="assets/imgs/generate-library.png" alt="Gerar libs" class="r-stretch" />
          </section>
          <section>
            <h4>Gerar componentes</h4>
            <img src="assets/imgs/generate.png" alt="Gerar componentes" class="r-stretch" />
          </section>
        </section>
        <section data-auto-animate>
          <h4 data-id="code-title">Configuração do Typescript compartilhada</h4>
          <p class="font-size-30">
            O arquivo <strong>tsconfig.base.json</strong> é um arquivo de
            configuração do TypeScript que é compartilhado por todos os projetos
            em um monorepo Nx.
          </p>
          <pre data-id="code-animation">
						<code class="hljs javascript" data-trim data-line-numbers="|18-21">
							<script type="text/template">
								{
									"compileOnSave": false,
									"compilerOptions": {
									  "rootDir": ".",
									  "sourceMap": true,
									  "declaration": false,
									  "moduleResolution": "node",
									  "emitDecoratorMetadata": true,
									  "experimentalDecorators": true,
									  "importHelpers": true,
									  "target": "es2015",
									  "module": "esnext",
									  "lib": ["es2020", "dom"],
									  "skipLibCheck": true,
									  "skipDefaultLibCheck": true,
									  "baseUrl": ".",
									  "paths": {
										"@angular-monorepo-nx/admin": ["libs/admin/src/index.ts"],
										"@angular-monorepo-nx/home": ["libs/home/src/index.ts"],
										"@angular-monorepo-nx/layouts": ["libs/layouts/src/index.ts"],
										"@angular-monorepo-nx/share": ["libs/share/src/index.ts"]
									  }
									},
									"exclude": ["node_modules", "tmp"]
								  }
								  
					</script>
				</code>
			</pre>
        </section>
        <section data-auto-animate>
          <h4 data-id="code-title">Configuração do Nx</h4>
          <p class="font-size-20">
            O arquivo <strong>nx.json</strong> é um arquivo de configuração do
            Nx que define a estrutura e as configurações do monorepo. Ele é
            usado para configurar as bibliotecas, aplicativos e outros projetos
            dentro do monorepo.
          </p>
          <pre data-id="code-animation">
						  <code class="hljs javascript" data-trim data-line-numbers="|8-17|54-62|71-76,78-82">
							  <script type="text/template">
								{
									"$schema": "./node_modules/nx/schemas/nx-schema.json",
									"defaultBase": "master",
									"namedInputs": {
									  "default": ["{projectRoot}/**/*", "sharedGlobals"],
									  "production": [
										"default",
										"!{projectRoot}/.eslintrc.json",
										"!{projectRoot}/eslint.config.js",
										"!{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
										"!{projectRoot}/tsconfig.spec.json",
										"!{projectRoot}/jest.config.[jt]s",
										"!{projectRoot}/src/test-setup.[jt]s",
										"!{projectRoot}/test-setup.[jt]s",
										"!{projectRoot}/cypress/**/*",
										"!{projectRoot}/**/*.cy.[jt]s?(x)",
										"!{projectRoot}/cypress.config.[jt]s"
									  ],
									  "sharedGlobals": ["{workspaceRoot}/.github/workflows/ci.yml"]
									},
									"nxCloudId": "671413ec6c3db86d0dc1841e",
									"targetDefaults": {
									  "@angular-devkit/build-angular:application": {
										"cache": true,
										"dependsOn": ["^build"],
										"inputs": ["production", "^production"]
									  },
									  "@nx/eslint:lint": {
										"cache": true,
										"inputs": [
										  "default",
										  "{workspaceRoot}/.eslintrc.json",
										  "{workspaceRoot}/.eslintignore",
										  "{workspaceRoot}/eslint.config.js"
										]
									  },
									  "@nx/jest:jest": {
										"cache": true,
										"inputs": ["default", "^production", "{workspaceRoot}/jest.preset.js"],
										"options": {
										  "passWithNoTests": true
										},
										"configurations": {
										  "ci": {
											"ci": true,
											"codeCoverage": true
										  }
										}
									  },
									  "e2e-ci--**/*": {
										"dependsOn": ["^build"]
									  }
									},
									"plugins": [
									  {
										"plugin": "@nx/cypress/plugin",
										"options": {
										  "targetName": "e2e",
										  "openTargetName": "open-cypress",
										  "componentTestingTargetName": "component-test",
										  "ciTargetName": "e2e-ci"
										}
									  },
									  {
										"plugin": "@nx/eslint/plugin",
										"options": {
										  "targetName": "lint"
										}
									  }
									],
									"generators": {
									  "@nx/angular:application": {
										"e2eTestRunner": "cypress",
										"linter": "eslint",
										"style": "scss",
										"unitTestRunner": "jest"
									  },
									  "@nx/angular:library": {
										"linter": "eslint",
										"unitTestRunner": "jest",
										"strict": false
									  },
									  "@nx/angular:component": {
										"style": "scss"
									  }
									}
								  }								  									
					  </script>
				  </code>
			  </pre>
        </section>
        <section data-auto-animate>
          <h4 data-id="code-title">
            Configuração do Tailwind com plugin de DaisyUi
          </h4>
          <p class="font-size-20">
            O arquivo <strong>tailwind.config.js</strong> é um arquivo de
            configuração que permite usar os componentes do DaisyUI e aproveitar
            as vantagens do Tailwind para gerar estilos CSS personalizados.
          </p>
          <pre data-id="code-animation">
							<code class="hljs javascript" data-trim data-line-numbers="|1|4-10|18-22">
								<script type="text/template">
								  const { createGlobPatternsForDependencies } = require('@nx/angular/tailwind');
								  const { join } = require('path');
								  
								  /** @type {import('tailwindcss').Config} */
								  module.exports = {
									content: [
									  join(__dirname, 'src/**/!(*.stories|*.spec).{ts,html}'),
									  join(__dirname, '..','..', 'libs','toaster', 'src/**/!(*.stories|*.spec).{ts,html}'),
									  ...createGlobPatternsForDependencies(__dirname),
									],
									theme: {
									  extend: {
										backgroundColor: {
										  "ocean-dark": "#2B303B"
									  },
									  },
									},
									plugins: [require('daisyui')],
									daisyui: {
									  themes: true, // false: only light + dark | true: all themes | array: specific themes like this ["light", "dark", "cupcake"]
									  darkTheme: "cupcake", // name of one of the included themes for dark mode
									},
								  };				  									
						</script>
					</code>
				</pre>
        <a class="font-size-rem" href="https://nx.dev/recipes/angular/using-tailwind-css-with-angular-projects" target="_blank">
          https://nx.dev/recipes/angular/using-tailwind-css-with-angular-projects
        </a><br />
        <a class="font-size-rem" href="https://daisyui.com/docs/install/" target="_blank">
          https://daisyui.com/docs/install/
        </a>
        </section>
        <section>
          <h4>Nx Cloud - Integração Contínua e Rápida</h4>
          <p class="font-size-20">
            O Nx Cloud segue um modelo de CI baseado em tarefas que não é apenas
            rápido, mas também robusto . Em vez de atribuir estaticamente o
            trabalho às máquinas, você pode imaginar uma pilha de tarefas que
            são selecionadas automaticamente pelos agentes na infraestrutura do
            Nx Cloud.
          </p>
          <img
          src="assets/imgs/nx-cloud2.png"
          alt="graph"
          class="r-stretch"
        />
        </section>
        <section>Demonstração Prática
          <br /><br />
          <i class="fa-solid fa-laptop" style="font-size: 100px"></i>
        </section>
        <section>
          Perguntas e Dúvidas
          <br /><br />
          <i class="fa-regular fa-circle-question" style="font-size: 100px"></i>
        </section>
        <section>
          <div>
            <h3>Obrigado!</h3>
            <ul class="no-list">
              <li>
                <i class="fa-solid fa-envelope"></i> flaviomilani83@gmail.com
              </li>
              <li>
                <i class="fa-brands fa-linkedin"></i>
                <a
                  href="https://www.linkedin.com/in/flavio-milani/"
                  target="_blank'"
                  >https://www.linkedin.com/in/flavio-milani/</a
                >
              </li>
            </ul>
          </div>
        </section>
        <section>
          <h4 class="left-title">Fontes de Pesquisa</h4>
          <ul class="line-height">
            <li>
              <a href="https://nx.dev/getting-started/intro" target="_blank">
                https://nx.dev/getting-started/intro</a>
            </li>
            <li>
              <a href="https://monorepo.tools/#what-is-a-monorepo" target="_blank">
                https://monorepo.tools/#what-is-a-monorepo</a>
            </li>
            <li>
              <a href="https://github.com/claboran/nx-quik" target="_blank">
              https://github.com/claboran/nx-quik
            </a>              
            </li>
            <li>
              <a href="https://github.com/ErickRodrCodes/angular-toaster/tree/main" target="_blank">
                https://github.com/ErickRodrCodes/angular-toaster/tree/main</a>
           </li>          
          </ul>
        </section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/zoom/zoom.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: true,
        showSlideNumber: "all",
        width: 1260,
        height: 670,
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealZoom, RevealHighlight, RevealNotes],
      });
    </script>
  </body>
</html>
